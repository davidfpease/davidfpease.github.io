<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Get Hubspot Cookie</title>
  <script>
    "use strict";

    !function () {
      var t = window.driftt = window.drift = window.driftt || [];
      if (!t.init) {
        if (t.invoked) return void (window.console && console.error && console.error("Drift snippet included twice."));
        t.invoked = !0, t.methods = ["identify", "config", "track", "reset", "debug", "show", "ping", "page", "hide", "off", "on"],
          t.factory = function (e) {
            return function () {
              var n = Array.prototype.slice.call(arguments);
              return n.unshift(e), t.push(n), t;
            };
          }, t.methods.forEach(function (e) {
            t[e] = t.factory(e);
          }), t.load = function (t) {
            var e = 3e5, n = Math.ceil(new Date() / e) * e, o = document.createElement("script");
            o.type = "text/javascript", o.async = !0, o.crossorigin = "anonymous", o.src = "https://js.driftt.com/include/" + n + "/" + t + ".js";
            var i = document.getElementsByTagName("script")[0];
            i.parentNode.insertBefore(o, i);
          };
      }
    }();
    drift.SNIPPET_VERSION = '0.3.1';
  </script>

</head>

<body>
  <!-- Start of HubSpot Embed Code -->
  <script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/20887489.js"></script>
  <!-- End of HubSpot Embed Code -->

  <script>
    window.HubSpotConversations.widget.remove();
    function handleSubmit() {
      // Your custom JavaScript goes here
      // For example, you can retrieve form values and process them
      var firstName = document.getElementById('first-name').value;
      var lastName = document.getElementById('last-name').value;
      var email = document.getElementById('email').value;

      console.log("First Name: " + firstName);
      console.log("Last Name: " + lastName);
      console.log("Email: " + email);

      var _hsq = window._hsq = window._hsq || [];
      _hsq.push(["identify", {
        email: email,
        firstname: firstName,
        lastname: lastName
      }]);

      _hsq.push(['trackPageView']);

      // Prevent form from submitting normally, remove this line if you want the form to submit
      return false;
    }

    function loadDrift() {
      console.log("Loading Drift");
      drift.load('uttup3cu7r8a');
    }

  </script>
  <div>
    <h3>
      Enter your details to associate this information with a Hubspot cookie. Then click the button to load Drift on
      this page.
    </h3>
  </div>
  <form onsubmit="return handleSubmit();">
    <label for="first-name">First Name:</label><br>
    <input type="text" id="first-name" name="first-name"><br>

    <label for="last-name">Last Name:</label><br>
    <input type="text" id="last-name" name="last-name"><br>

    <label for="email">Email:</label><br>
    <input type="email" id="email" name="email"><br>

    <input type="submit" value="Submit">
  </form>
  <button onclick="loadDrift()">Load Drift</button>
</body>

</html>